<div class="sic-com-navbar">
  <mat-toolbar>
    <div fxHide.lt-md fxFlex.gt-sm="5"></div>
    <div fxFlex="20" fxLayoutAlign="center center">
      <img src="https://res.cloudinary.com/hf0vu1bg2/image/upload/v1549499313/assets/nuevo-logo-200x200px.png"
           class="sic-com-logo-chico" routerLink="/">
    </div>
    <form id="buscador-form" fxFlex fxLayoutAlign="center center" [formGroup]="busquedaForm" (ngSubmit)="submit()">
      <input class="sic-com-buscador-input" type="search" placeholder="¿Qué busca?" formControlName="criteriaControl">
      <button id="lupa-button" mat-icon-button color="primary" type="submit">
        <mat-icon>search</mat-icon>
      </button>
    </form>
    <div fxFlex.lt-md="15" fxFlex.gt-sm="20">
      <div fxLayoutAlign="center center" *ngIf="authService.isAuthenticated()">
        <button mat-icon-button fxHide.lt-md [matMenuTriggerFor]="menuReducido" matTooltip="Mi Perfil ({{usuarioConectado}})" color="primary">
          <mat-icon>account_circle</mat-icon>
        </button>
        <mat-menu #menuReducido="matMenu" fxHide.lt-md [overlapTrigger]="false">
          <button mat-menu-item [routerLink]="['/perfil']">
            <mat-icon>account_circle</mat-icon>
            <span>Mi Perfil</span>
          </button>
          <button mat-menu-item (click)="logout()">
            <mat-icon>power_settings_new</mat-icon>
            <span>Cerrar Sesión</span>
          </button>
        </mat-menu>
        <button mat-icon-button fxHide.lt-md [routerLink]="['/carrito-compra']" matTooltip="Ir al carrito" color="primary">
          <mat-icon>shopping_cart</mat-icon>
          <span class="sic-com-contador-carrito" *ngIf="(cantidadItemsEnCarrito > 0)">{{cantidadItemsEnCarrito}}</span>
        </button>
        <button mat-icon-button fxHide.gt-sm [matMenuTriggerFor]="menuCompleto" color="primary">
          <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #menuCompleto="matMenu" fxHide.gt-sm [overlapTrigger]="false">
          <button mat-menu-item [routerLink]="['/perfil']">
            <mat-icon>account_circle</mat-icon>
            <span>Mi Perfil ({{usuarioConectado}})</span>
          </button>
          <button mat-menu-item [routerLink]="['/carrito-compra']">
            <mat-icon>shopping_cart</mat-icon>
            <span>Ir al carrito ({{cantidadItemsEnCarrito}})</span>
          </button>
          <button mat-menu-item (click)="logout()">
            <mat-icon>power_settings_new</mat-icon>
            <span>Cerrar Sesión</span>
          </button>
        </mat-menu>
      </div>
      <div fxLayoutAlign="center center" *ngIf="!authService.isAuthenticated()">
        <button mat-icon-button fxHide.lt-md [matMenuTriggerFor]="menuReducido" color="primary">
          <mat-icon>account_circle</mat-icon>
        </button>
        <mat-menu #menuReducido="matMenu" fxHide.lt-md [overlapTrigger]="false">
          <button mat-menu-item (click)="goToLogin()">
            <mat-icon>account_circle</mat-icon>
            <span>Ingresar</span>
          </button>
          <button mat-menu-item (click)="goToRegistracion()">
            <mat-icon>how_to_reg</mat-icon>
            <span>Registrarme</span>
          </button>
        </mat-menu>
        <button mat-icon-button fxHide.gt-sm [matMenuTriggerFor]="menuCompleto" color="primary">
          <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #menuCompleto="matMenu" fxHide.gt-sm [overlapTrigger]="false">
          <button mat-menu-item (click)="goToLogin()">
            <mat-icon>account_circle</mat-icon>
            <span>Ingresar</span>
          </button>
          <button mat-menu-item (click)="goToRegistracion()">
            <mat-icon>how_to_reg</mat-icon>
            <span>Registrarme</span>
          </button>
        </mat-menu>
      </div>
    </div>
    <div fxHide.lt-md fxFlex.gt-sm="5"></div>
  </mat-toolbar>
</div>
