<div class="producto">
  <div class="encabezado">
    <div fxLayout="row" fxLayoutAlign="space-between start">
      <span>
        <span class="off" *ngIf="producto.porcentajeBonificacionOferta">{{ producto.porcentajeBonificacionOferta }}% OFF!</span>
      </span>
      <span>
        <button class="add-to-cart" mat-icon-button color="warn" (click)="showDialogCantidad($event, producto)" *ngIf="authService.isAuthenticated() && cliente">
          <mat-icon>add_shopping_cart</mat-icon>
        </button>
      </span>
    </div>
  </div>
  <a [routerLink]="['/producto/' + producto.idProducto]">
    <mat-card>
      <div class="img-container">
        <img mat-card-image [src]="producto.urlImagen ? producto.urlImagen : 'https://res.cloudinary.com/hf0vu1bg2/image/upload/v1545616229/assets/sin_imagen.png'" alt="Imagen del producto">
      </div>
      <mat-card-content>
        <span class="codigo">{{ producto.codigo }}</span>
        <p>{{ producto.descripcion }}</p>
      </mat-card-content>
      <mat-card-header fxLayoutAlign="end center">
        <mat-card-title fxLayout="column" fxLayoutAlign="center end">
          <div *ngIf="producto.porcentajeBonificacionOferta || producto.porcentajeBonificacionPrecio">
            <span class="precio bonificado">
              <span *ngIf="producto.bulto > 1">Llevando {{ producto.bulto }} o m√°s</span>
              $ {{ producto.precioBonificado | number:'1.0-2':'es-AR' }}
            </span>
          </div>
          <span class="precio" [class.tachado]="!(producto.bulto > 1) && (producto.porcentajeBonificacionOferta || producto.porcentajeBonificacionPrecio)">
            $ {{producto.precioLista | number:'1.0-2':'es-AR'}}
          </span>
        </mat-card-title>
      </mat-card-header>
    </mat-card>
  </a>
</div>
